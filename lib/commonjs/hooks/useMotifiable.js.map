{"version":3,"sources":["useMotifiable.ts"],"names":["useMotifiable","config","duration","delay","repeat","name","props","React","useMemo","definition","MotifiableDefinitions","builder","state","animation","animate","useCallback","transitionTo","transition"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAGO,MAAMA,aAAgC,GAAIC,MAAD,IAAY;AAC1D,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,MAAnB;AAA2BC,IAAAA;AAA3B,MAAoCJ,MAA1C;;AACA,QAAMK,KAAK,GAAGC,eAAMC,OAAN,CAAc,MAAM;AAChC,UAAMC,UAAU,GAAGC,mCAAsBL,IAAtB,CAAnB;AACA,UAAMM,OAAO,GAAG,4BAAiBF,UAAjB,CAAhB;AAEA,WAAOE,OAAO,CAAC;AAAET,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,KAAD,CAAd;AACD,GALa,EAKX,CAACF,QAAD,EAAWC,KAAX,EAAkBC,MAAlB,EAA0BC,IAA1B,CALW,CAAd;;AAOA,QAAMO,KAAK,GAAG,6BAAuB;AACnCC,IAAAA,SAAS,EAAEP,KAAK,CAACQ;AADkB,GAAvB,CAAd;;AAIA,QAAMA,OAAO,GAAGP,eAAMQ,WAAN,CAAkB,MAAMH,KAAK,CAACI,YAAN,CAAmB,WAAnB,CAAxB,EAAyD,CAACJ,KAAD,CAAzD,CAAhB;;AAEA,SAAO;AACLE,IAAAA,OADK;AAELR,IAAAA,KAAK,EAAE;AAAEM,MAAAA,KAAF;AAASK,MAAAA,UAAU,EAAEX,KAAK,CAACW;AAA3B;AAFF,GAAP;AAID,CAnBM","sourcesContent":["import { useAnimationState } from 'moti'\nimport React from 'react'\nimport { compileAnimation } from '../core'\nimport { MotifiableDefinitions } from '../definitions'\nimport { UseMotifiableHook } from './types'\n\nexport const useMotifiable: UseMotifiableHook = (config) => {\n  const { duration, delay, repeat, name } = config\n  const props = React.useMemo(() => {\n    const definition = MotifiableDefinitions[name]\n    const builder = compileAnimation(definition)\n\n    return builder({ duration, delay, repeat })\n  }, [duration, delay, repeat, name])\n\n  const state = useAnimationState<any>({\n    animation: props.animate\n  })\n\n  const animate = React.useCallback(() => state.transitionTo('animation'), [state])\n\n  return {\n    animate,\n    props: { state, transition: props.transition }\n  }\n}\n"]}