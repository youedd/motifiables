{"version":3,"sources":["useMotifiable.ts"],"names":["useAnimationState","React","compileAnimation","MotifiableDefinitions","useMotifiable","config","duration","delay","repeat","name","props","useMemo","definition","builder","state","animation","animate","useCallback","transitionTo","transition"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,MAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,SAAjC;AACA,SAASC,qBAAT,QAAsC,gBAAtC;AAGA,OAAO,MAAMC,aAAgC,GAAIC,MAAD,IAAY;AAC1D,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,MAAnB;AAA2BC,IAAAA;AAA3B,MAAoCJ,MAA1C;AACA,QAAMK,KAAK,GAAGT,KAAK,CAACU,OAAN,CAAc,MAAM;AAChC,UAAMC,UAAU,GAAGT,qBAAqB,CAACM,IAAD,CAAxC;AACA,UAAMI,OAAO,GAAGX,gBAAgB,CAACU,UAAD,CAAhC;AAEA,WAAOC,OAAO,CAAC;AAAEP,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBC,MAAAA;AAAnB,KAAD,CAAd;AACD,GALa,EAKX,CAACF,QAAD,EAAWC,KAAX,EAAkBC,MAAlB,EAA0BC,IAA1B,CALW,CAAd;AAOA,QAAMK,KAAK,GAAGd,iBAAiB,CAAM;AACnCe,IAAAA,SAAS,EAAEL,KAAK,CAACM;AADkB,GAAN,CAA/B;AAIA,QAAMA,OAAO,GAAGf,KAAK,CAACgB,WAAN,CAAkB,MAAMH,KAAK,CAACI,YAAN,CAAmB,WAAnB,CAAxB,EAAyD,CAACJ,KAAD,CAAzD,CAAhB;AAEA,SAAO;AACLE,IAAAA,OADK;AAELN,IAAAA,KAAK,EAAE;AAAEI,MAAAA,KAAF;AAASK,MAAAA,UAAU,EAAET,KAAK,CAACS;AAA3B;AAFF,GAAP;AAID,CAnBM","sourcesContent":["import { useAnimationState } from 'moti'\nimport React from 'react'\nimport { compileAnimation } from '../core'\nimport { MotifiableDefinitions } from '../definitions'\nimport { UseMotifiableHook } from './types'\n\nexport const useMotifiable: UseMotifiableHook = (config) => {\n  const { duration, delay, repeat, name } = config\n  const props = React.useMemo(() => {\n    const definition = MotifiableDefinitions[name]\n    const builder = compileAnimation(definition)\n\n    return builder({ duration, delay, repeat })\n  }, [duration, delay, repeat, name])\n\n  const state = useAnimationState<any>({\n    animation: props.animate\n  })\n\n  const animate = React.useCallback(() => state.transitionTo('animation'), [state])\n\n  return {\n    animate,\n    props: { state, transition: props.transition }\n  }\n}\n"]}